<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deforge AI Agent Widget - Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Lexend Deca', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1d1f26 0%, #2a2d36 100%);
            min-height: 100vh;
            color: #fefcea;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding: 40px 0;
        }
        
        .deforge-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: #fefcea;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .deforge-logo svg {
            width: 40px;
            height: 40px;
            fill: #1d1f26;
        }
        
        .header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            font-weight: 700;
            background: linear-gradient(135deg, #fefcea 0%, #f0f3d0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header .subtitle {
            font-size: 1.4em;
            opacity: 0.9;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .header .description {
            font-size: 1.1em;
            opacity: 0.7;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .control-panel {
            background: rgba(254, 252, 234, 0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(254, 252, 234, 0.2);
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }
        
        .control-panel h2 {
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 1.8em;
            font-weight: 600;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .btn {
            background: rgba(254, 252, 234, 0.15);
            border: 1px solid rgba(254, 252, 234, 0.3);
            color: #fefcea;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
            font-family: 'Lexend Deca', sans-serif;
        }
        
        .btn:hover {
            background: rgba(254, 252, 234, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .select-group {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .select-group label {
            font-weight: 600;
            font-size: 14px;
        }
        
        .select-group select {
            background: rgba(254, 252, 234, 0.15);
            border: 1px solid rgba(254, 252, 234, 0.3);
            color: #fefcea;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Lexend Deca', sans-serif;
        }
        
        .select-group select option {
            background: #1d1f26;
            color: #fefcea;
        }
        
        .info-panel {
            background: rgba(254, 252, 234, 0.08);
            padding: 25px;
            border-radius: 15px;
            font-family: 'Lexend Deca', monospace;
            font-size: 14px;
            margin-top: 25px;
            border: 1px solid rgba(254, 252, 234, 0.1);
        }
        
        .analytics-log {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 12px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Lexend Deca', monospace;
            font-size: 12px;
            margin-top: 20px;
            border: 1px solid rgba(254, 252, 234, 0.1);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .demo-card {
            background: rgba(254, 252, 234, 0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(254, 252, 234, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }
        
        .demo-card h3 {
            margin-top: 0;
            font-size: 1.6em;
            margin-bottom: 15px;
            font-weight: 600;
            color: #fefcea;
        }
        
        .demo-card p {
            line-height: 1.6;
            margin-bottom: 20px;
            opacity: 0.9;
            font-size: 15px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(254, 252, 234, 0.1);
            font-size: 14px;
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .feature-list li::before {
            content: "âœ“ ";
            color: #4ade80;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .implementation-section {
            background: rgba(254, 252, 234, 0.05);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 40px;
            border: 1px solid rgba(254, 252, 234, 0.1);
        }
        
        .implementation-section h2 {
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 2em;
            font-weight: 600;
        }
        
        .code-block {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            border-radius: 12px;
            font-family: 'Lexend Deca', monospace;
            font-size: 14px;
            margin: 20px 0;
            border: 1px solid rgba(254, 252, 234, 0.1);
            overflow-x: auto;
            position: relative;
        }
        
        .code-block code {
            color: #fefcea;
            font-family: 'Lexend Deca', monospace;
        }
        
        .copy-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(254, 252, 234, 0.1);
            border: 1px solid rgba(254, 252, 234, 0.2);
            color: #fefcea;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 12px;
            font-family: 'Lexend Deca', sans-serif;
            opacity: 0.7;
        }
        
        .copy-btn:hover {
            background: rgba(254, 252, 234, 0.25);
            opacity: 1;
            transform: translateY(-1px);
        }
        
        .copy-btn:active {
            transform: translateY(0);
            background: rgba(254, 252, 234, 0.2);
        }
        
        .step {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(254, 252, 234, 0.05);
            border-radius: 12px;
            border-left: 4px solid #fefcea;
        }
        
        .step h3 {
            margin-top: 0;
            margin-bottom: 15px;
            font-weight: 600;
            color: #fefcea;
        }
        
        .step p {
            margin-bottom: 15px;
            line-height: 1.6;
            opacity: 0.9;
        }
        
        .highlight {
            background: rgba(254, 252, 234, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            .select-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .header h1 {
                font-size: 2.5em;
            }
            
            .demo-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="header">
            <div class="deforge-logo">
                <svg width="100%" height="100%" viewBox="0 0 1906 1906" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
                    <path d="M106.127,105.939c-171.021,170.916 -128.975,497.201 80.308,846.483c-205.602,342.77 -253.536,673.672 -80.308,846.914c171.022,171.127 497.39,128.976 846.484,-80.308c342.769,205.603 673.672,253.536 846.914,80.308c171.021,-170.917 129.081,-497.202 -80.308,-846.483c205.602,-342.77 253.536,-673.673 80.308,-846.914c-112.263,-112.263 -292.53,-133.284 -505.167,-72.634c-35.738,10.091 -56.448,47.406 -46.252,83.145c10.197,35.633 47.406,56.342 83.144,46.143c170.39,-48.563 301.464,-33.321 373.151,38.473c174.28,174.28 -0.316,666.218 -418.573,1084.58c-32.06,32.059 -64.857,62.962 -98.176,92.605c-27.749,24.702 -30.168,67.168 -5.466,94.917c24.702,27.749 67.168,30.273 94.917,5.571c35.319,-31.325 69.902,-64.014 103.854,-97.966c97.441,-97.441 183.214,-199.19 255.637,-301.571c152.204,278.349 175.33,517.464 67.798,625.02c-174.28,174.28 -666.218,-0.315 -1084.58,-418.573c-32.06,-32.059 -62.962,-64.856 -92.606,-98.175c-24.701,-27.749 -67.273,-30.273 -95.021,-5.571c-27.749,24.701 -30.168,67.273 -5.466,95.021c31.325,35.214 64.014,69.903 97.966,103.854c97.441,97.441 199.19,183.214 301.571,255.637c-278.026,151.995 -517.383,175.435 -625.02,67.798c-174.281,-174.28 0.315,-666.218 418.573,-1084.58c34.371,-34.371 69.479,-67.273 105.112,-98.808l56.868,-47.301c66.221,-55.185 161.455,-58.339 231.145,-7.673l61.597,44.674c18.711,13.56 44.885,9.356 58.445,-9.355c9.985,-13.875 10.616,-32.374 1.471,-46.881l-42.465,-67.063c-44.148,-69.797 -37.735,-160.194 15.767,-223.054l49.088,-57.496c15.767,-18.501 13.56,-46.357 -4.941,-62.123c-13.454,-11.457 -32.374,-13.77 -48.143,-5.992l-110.476,54.658c-61.07,30.273 -133.706,25.122 -189.941,-13.454l-81.148,-55.606c-19.446,-13.349 -45.934,-8.409 -59.178,11.038c-9.671,14.085 -9.986,32.584 -0.841,46.986l39.311,61.703c47.092,73.79 37.106,170.284 -24.071,232.826l-47.196,48.353c-35.843,31.745 -71.056,64.962 -105.535,99.438c-97.441,97.441 -183.214,199.19 -255.638,301.572c-152.099,-278.242 -175.329,-517.465 -67.797,-625.021c56.552,-56.552 149.577,-78.311 272.025,-60.441c36.685,5.256 70.847,-20.181 76.207,-56.972c5.361,-36.79 -20.182,-70.846 -56.972,-76.207c-160.931,-23.335 -296.109,8.094 -386.39,98.493l0.01,0.012Zm1154.16,394.704c-25.963,26.699 -25.333,69.27 1.366,95.13c8.094,7.883 16.188,15.872 24.177,23.861c50.769,50.769 98.598,103.326 143.06,156.934c23.756,28.591 66.116,32.48 94.707,8.83c28.591,-23.756 32.584,-66.221 8.829,-94.812c-47.091,-56.763 -97.756,-112.368 -151.469,-166.081c-8.514,-8.515 -17.028,-16.924 -25.543,-25.228c-26.699,-25.858 -69.27,-25.227 -95.129,1.367l0.002,-0.001Z" style="fill:#000000;fill-rule:nonzero;"/>
                  </svg>
            </div>
            <h1>Deforge</h1>
            <p class="subtitle">Build AI Agents Visually, No Code Required</p>
            <p class="description">Create, connect, and deploy powerful AI agents with our intuitive node-based interface. From simple automations to blockchain integrations, all without writing a single line of code.</p>
        </div>

        <div class="implementation-section">
            <h2>ðŸš€ How to Implement</h2>
            
            <div class="step">
                <h3>Step 1: Include the Script</h3>
                <p>Add the Deforge widget script to your HTML page:</p>
                <div class="code-block">
                    <button class="copy-btn" title="Copy to clipboard">Copy</button>
                    <code>&lt;script src="https://cdn.deforge.ai/widget/deforge-widget.js">&lt;/script></code>
                </div>
            </div>
            
            <div class="step">
                <h3>Step 2: Initialize with Your Workflow ID</h3>
                <p>Create a new widget instance with your <span class="highlight">workflowId</span> from the Deforge platform:</p>
                <div class="code-block">
                    <button class="copy-btn" title="Copy to clipboard">Copy</button>
                    <code>
                        const widget = new ChatbotWidget({
                        workflowId: "your-workflow-id-here", // Get this from Deforge dashboard
                        theme: "deforge-light", // or "deforge-dark"
                        position: "bottom-right" // bottom-left, top-right, top-left
                    });
                    </code>
                </div>
            </div>
            
            <div class="step">
                <h3>Step 3: Configure Your Workflow</h3>
                <p>In your Deforge dashboard, configure:</p>
                <div class="code-block">
                    <button class="copy-btn" title="Copy to clipboard">Copy</button>
                    <code>
                        â€¢ Company Name & Description
                        â€¢ Company Logo (SVG format)
                        â€¢ Welcome Message
                        â€¢ AI Agent Logic & Responses
                        â€¢ API Integrations
                    </code>
                </div>
            </div>
            
            <div class="step">
                <h3>Step 4: Deploy & Test</h3>
                <p>Your AI agent widget will automatically:</p>
                <ul class="feature-list">
                    <li>Fetch configuration from Deforge servers</li>
                    <li>Generate unique chat sessions</li>
                    <li>Process messages through your workflow</li>
                    <li>Maintain conversation history</li>
                </ul>
            </div>
        </div>
        
        <div class="control-panel">
            <h2>ðŸŽ® Widget Controls</h2>
            <div class="controls">
                <button class="btn" onclick="showWidget()">Show Chat</button>
                <button class="btn" onclick="hideWidget()">Hide Chat</button>
                <button class="btn" onclick="sendCustomMessage()">Send Bot Message</button>
                <button class="btn" onclick="clearMessages()">Clear Messages</button>
                <button class="btn" onclick="createNewWidget()">New Session</button>
                <button class="btn" onclick="destroyWidget()">Destroy Widget</button>
            </div>
            
            <div class="controls">
                <div class="select-group">
                    <label>Theme:</label>
                    <select id="themeSelect" onchange="changeTheme()">
                        <option value="deforge-light">Deforge Light</option>
                        <option value="deforge-dark">Deforge Dark</option>
                    </select>
                </div>
                <div class="select-group">
                    <label>Position:</label>
                    <select id="positionSelect" onchange="changePosition()">
                        <option value="bottom-right">Bottom Right</option>
                        <option value="bottom-left">Bottom Left</option>
                        <option value="top-right">Top Right</option>
                        <option value="top-left">Top Left</option>
                    </select>
                </div>
            </div>
            
            <div class="info-panel">
                <strong>Current Chat ID:</strong> <span id="sessionInfo">Loading...</span><br>
                <strong>Workflow ID:</strong> <span id="workflowInfo">demo-workflow-123</span><br>
                <strong>Widget Status:</strong> <span id="statusInfo">Initializing...</span><br>
                <strong>Message Count:</strong> <span id="messageCount">0</span>
                <div class="analytics-log" id="analyticsLog">
                    <strong>Analytics Events:</strong><br>
                </div>
            </div>
        </div>
        
        <div class="demo-grid">
            <div class="demo-card">
                <h3>ðŸ¤– AI-Powered Responses</h3>
                <p>Connect your custom AI workflows built in Deforge to provide intelligent, context-aware responses to your users.</p>
                <ul class="feature-list">
                    <li>Visual workflow builder</li>
                    <li>Custom AI logic</li>
                    <li>Context-aware responses</li>
                    <li>Multi-step conversations</li>
                </ul>
            </div>
            
            <div class="demo-card">
                <h3>ðŸ”§ No-Code Configuration</h3>
                <p>Set up your AI agent through Deforge's visual interface without writing any code. Just drag, drop, and connect nodes.</p>
                <ul class="feature-list">
                    <li>Visual node editor</li>
                    <li>Drag & drop interface</li>
                    <li>Pre-built components</li>
                    <li>Real-time testing</li>
                </ul>
            </div>
            
            <div class="demo-card">
                <h3>ðŸŽ¨ Custom Branding</h3>
                <p>Automatically fetches your company branding from Deforge workflows. Logo, colors, and messaging all configured in one place.</p>
                <ul class="feature-list">
                    <li>Company logo display</li>
                    <li>Custom welcome messages</li>
                    <li>Brand-consistent theming</li>
                    <li>Responsive design</li>
                </ul>
            </div>
            
            <div class="demo-card">
                <h3>ðŸ’¾ Persistent Sessions</h3>
                <p>Automatic chat session management with localStorage persistence. Users can continue conversations across page reloads.</p>
                <ul class="feature-list">
                    <li>Unique chat IDs</li>
                    <li>Session recovery</li>
                </ul>
            </div>
            
            <div class="demo-card">
                <h3>ðŸ”Œ Server Integration</h3>
                <p>Seamlessly connects to Deforge servers for workflow validation, configuration fetching, and message processing.</p>
                <ul class="feature-list">
                    <li>Workflow validation</li>
                    <li>Real-time configuration</li>
                    <li>Message processing</li>
                    <li>Error handling</li>
                </ul>
            </div>
            
            <div class="demo-card">
                <h3>ðŸ“Š Analytics & Tracking</h3>
                <p>Built-in analytics for monitoring chat interactions, user engagement, and AI agent performance.</p>
                <ul class="feature-list">
                    <li>Event tracking</li>
                    <li>User engagement metrics</li>
                    <li>Performance monitoring</li>
                    <li>Custom callbacks</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const copyButtons = document.querySelectorAll('.copy-btn');

            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const codeBlock = button.parentElement;
                    const codeElement = codeBlock.querySelector('code');
                    const codeToCopy = codeElement.innerText;

                    navigator.clipboard.writeText(codeToCopy).then(() => {
                        button.textContent = 'Copied!';
                        // Optional: style change for feedback, matches feature list checkmark
                        button.style.backgroundColor = '#4ade80';
                        button.style.color = '#1d1f26';
                        
                        setTimeout(() => {
                            button.textContent = 'Copy';
                            // Revert styles
                            button.style.backgroundColor = '';
                            button.style.color = '';
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy code: ', err);
                        button.textContent = 'Error';
                        
                        setTimeout(() => {
                            button.textContent = 'Copy';
                        }, 2000);
                    });
                });
            });
        });
    </script>

    <script src="chatbot.js"></script>
</body>
</html>